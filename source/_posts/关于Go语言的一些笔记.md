---
title: 关于Go语言指针的一些笔记
date: 2019-01-11 13:48:11
tags: Go
categories: 工程和设计
---
以前没有笔记的习惯，很多东西过段时间忘了又要找来重新看，浪费了不少时间。这个状况要改。

最近在看Go语言，还是有不少与c/c++不同的地方。
Go语言函数的参数传递只有传值，没有传引用。也就是说，传到函数中的是原有值的一份拷贝。但是，在传递Map，Chan，Slice等类型的值时，会发现在函数内对这些类型值的操作会作用到函数外的原有值。这说明，Map，Chan，Slice等类型，本身是一种指针类型。实际上，Map和Chan本身的值是对应数据结构的地址，而Slice本身的值是其底层数组的地址（Data）。因此，与Map和Chan不同的是，在函数内对Slice进行修改，只能修改数组的值，而无法修改Slice的长度len和数组的长度cap，因为这两者是原有值的拷贝。如果要对Slice所有的成员进行修改，则需要给函数传入Slice的指针。

与c/c++不同的是，Go没有指针运算。
Go有两种内存分配的方法，new和make。make只用于Map，Chan和Slice，返回Map，Chan和Slice类型（从上面的描述可知它们实际是指针类型）。new用于其它类型，返回类型的指针。类型的值都初始化为该类型对应的零值。